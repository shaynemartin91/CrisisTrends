"use strict";!function(){var t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||t)&&navigator.serviceWorker.register("service-worker.js").then(function(t){t.onupdatefound=function(){if(navigator.serviceWorker.controller){var e=t.installing;e.onstatechange=function(){switch(e.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(t){console.error("Error during service worker registration:",t)})}(),function(t){t.config={visualizations:{domain:"https://app.periscopedata.com",dashboards:{desktop:"4dff3c25-3a2d-4466-955c-3f3638b89fb9",mobile:"171d3869-a831-433b-900d-45e53badfd7f"},constants:{vizHeights:{desktop:3e3,mobile:4100},viewportWidths:{mobile:1e3}}}}}(window);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){function t(t,e,n){for(var r,o,i,a=([{x:0,y:0},{x:f[0],y:f[1]}],e.x),c=e.y,s=Math.sqrt(f[0]*f[0]+f[1]*f[1]),l=E(f),h=Math.random()<.5?1:-1,y=-h;(r=l(y+=h))&&(o=~~r[0],i=~~r[1],!(Math.min(o,i)>s));)if(e.x=a+o,e.y=c+i,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>f[0]||e.y+e.y1>f[1])&&(!n||!u(e,t,f[0]))&&(!n||d(e,n))){for(var v,m=e.sprite,p=e.width>>5,w=f[0]>>5,g=e.x-(p<<4),x=127&g,b=32-x,M=e.y1-e.y0,q=(e.y+e.y0)*w+(g>>5),L=0;L<M;L++){v=0;for(var S=0;S<=p;S++)t[q+S]|=v<<b|(S<p?(v=m[L*p+S])>>>x:0);q+=w}return delete e.sprite,!0}return!1}var f=[256,256],y=e,v=n,m=o,p=r,w=r,g=i,b=a,E=l,M=[],q=1/0,L=d3.dispatch("word","end"),S=null,z={};return z.start=function(){function e(){for(var e,d=+new Date;+new Date-d<q&&++i<o&&S;)e=u[i],e.x=f[0]*(Math.random()+.5)>>1,e.y=f[1]*(Math.random()+.5)>>1,c(e,u,i),e.hasText&&t(n,e,r)&&(a.push(e),L.word(e),r?s(r,e):r=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=f[0]>>1,e.y-=f[1]>>1);i>=o&&(z.stop(),L.end(a,r))}var n=h((f[0]>>5)*f[1]),r=null,o=M.length,i=-1,a=[],u=M.map(function(t,e){return t.text=y.call(this,t,e),t.font=v.call(this,t,e),t.style=p.call(this,t,e),t.weight=w.call(this,t,e),t.rotate=g.call(this,t,e),t.size=~~m.call(this,t,e),t.padding=b.call(this,t,e),t}).sort(function(t,e){return e.size-t.size});return S&&clearInterval(S),S=setInterval(e,0),e(),z},z.stop=function(){return S&&(clearInterval(S),S=null),z},z.timeInterval=function(t){return arguments.length?(q=null==t?1/0:t,z):q},z.words=function(t){return arguments.length?(M=t,z):M},z.size=function(t){return arguments.length?(f=[+t[0],+t[1]],z):f},z.font=function(t){return arguments.length?(v=d3.functor(t),z):v},z.fontStyle=function(t){return arguments.length?(p=d3.functor(t),z):p},z.fontWeight=function(t){return arguments.length?(w=d3.functor(t),z):w},z.rotate=function(t){return arguments.length?(g=d3.functor(t),z):g},z.text=function(t){return arguments.length?(y=d3.functor(t),z):y},z.spiral=function(t){return arguments.length?(E=x[t+""]||t,z):E},z.fontSize=function(t){return arguments.length?(m=d3.functor(t),z):m},z.padding=function(t){return arguments.length?(b=d3.functor(t),z):b},d3.rebind(z,L,"on")}function e(t){return t.text}function n(){return"serif"}function r(){return"normal"}function o(t){return Math.sqrt(t.value)}function i(){return 30*(~~(6*Math.random())-3)}function a(){return 1}function c(t,e,n){if(!t.sprite){g.clearRect(0,0,(m<<5)/w,p/w);var r=0,o=0,i=0,a=e.length;for(--n;++n<a;){t=e[n],g.save(),g.font=t.style+" "+t.weight+" "+~~((t.size+1)/w)+"px "+t.font;var c=g.measureText(t.text+"m").width*w,u=t.size<<1;if(t.rotate){var s=Math.sin(t.rotate*v),d=Math.cos(t.rotate*v),l=c*d,f=c*s,h=u*d,y=u*s;c=Math.max(Math.abs(l+y),Math.abs(l-y))+31>>5<<5,u=~~Math.max(Math.abs(f+h),Math.abs(f-h))}else c=c+31>>5<<5;if(u>i&&(i=u),r+c>=m<<5&&(r=0,o+=i,i=0),o+u>=p)break;g.translate((r+(c>>1))/w,(o+(u>>1))/w),t.rotate&&g.rotate(t.rotate*v),g.fillText(t.text,0,0),t.padding&&(g.lineWidth=2*t.padding,g.strokeText(t.text,0,0)),g.restore(),t.width=c,t.height=u,t.xoff=r,t.yoff=o,t.x1=c>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,r+=c}for(var x=g.getImageData(0,0,(m<<5)/w,p/w).data,b=[];--n>=0;)if(t=e[n],t.hasText){for(var c=t.width,E=c>>5,u=t.y1-t.y0,M=0;M<u*E;M++)b[M]=0;if(r=t.xoff,null==r)return;o=t.yoff;for(var q=0,L=-1,S=0;S<u;S++){for(var M=0;M<c;M++){var z=E*S+(M>>5),A=x[(o+S)*(m<<5)+(r+M)<<2]?1<<31-M%32:0;b[z]|=A,q|=A}q?L=S:(t.y0++,u--,S--,o++)}t.y1=t.y0+L,t.sprite=b.slice(0,(t.y1-t.y0)*E)}}}function u(t,e,n){n>>=5;for(var r,o=t.sprite,i=t.width>>5,a=t.x-(i<<4),c=127&a,u=32-c,s=t.y1-t.y0,d=(t.y+t.y0)*n+(a>>5),l=0;l<s;l++){r=0;for(var f=0;f<=i;f++)if((r<<u|(f<i?(r=o[l*i+f])>>>c:0))&e[d+f])return!0;d+=n}return!1}function s(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function d(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function l(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function f(t){var e=4,n=e*t[0]/t[1],r=0,o=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:r+=n;break;case 1:o+=e;break;case 2:r-=n;break;default:o-=e}return[r,o]}}function h(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}var y,v=Math.PI/180,m=64,p=2048,w=1;"undefined"!=typeof document?(y=document.createElement("canvas"),y.width=1,y.height=1,w=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2),y.width=(m<<5)/w,y.height=p/w):y=new Canvas(m<<5,p);var g=y.getContext("2d"),x={archimedean:l,rectangular:f};g.fillStyle=g.strokeStyle="red",g.textAlign="center","object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t:(d3.layout||(d3.layout={})).cloud=t}(),window.toggle=function(t){return t instanceof NodeList?(t.forEach(toggle),t):"inherit"===t.style.display?hide(t):show(t)},window.hide=function(t){return t instanceof NodeList?t.forEach(hide):t.style.display="none",t},window.show=function(t){return t instanceof NodeList?t.forEach(hide):t.style.display="inherit",t},function(){window.renderFAQ=function(){function t(t){t.parentNode.removeChild(t),t.className=t.className.replace("template","")}function e(t,e,n){var r=i.cloneNode(!0);r.querySelectorAll("h3")[0].innerHTML=t,r.querySelectorAll("p")[0].innerHTML=e,n.appendChild(r)}var n=document.getElementsByClassName("faq-placeholder")[0],r=document.getElementsByClassName("template faq-section")[0];t(r);var o=document.getElementsByClassName("template faq-subsection")[0];t(o);var i=document.getElementsByClassName("template faq-question")[0];t(i);for(var a in window.faq)if(window.faq.hasOwnProperty(a)){var c=window.faq[a],u=r.cloneNode(!0);u.querySelectorAll("h1")[0].innerHTML=a,u.querySelectorAll("img")[0].src=c.image;var s=u.querySelectorAll(".faq-content")[0];for(var d in c.questions)if(c.questions.hasOwnProperty(d)){var l=c.questions[d];if("string"==typeof l)e(d,l,s);else{var f=o.cloneNode(!0);f.querySelectorAll("h2")[0].innerHTML=d;for(var h in l)l.hasOwnProperty(h)&&e(h,l[h],f);s.appendChild(f)}}n.appendChild(u)}},window.bindFAQ=function(){var t=".faq-content",e=document.querySelectorAll(t);hide(e),e.forEach(function(t){t.style.cursor="auto",t.addEventListener("click",function(t){t.stopPropagation()})});var n=document.querySelectorAll(".faq-section");n.forEach(function(e){e.style.cursor="pointer",e.addEventListener("click",function(){this.querySelectorAll(t).forEach(toggle)})})}}(),function(){function t(){e("63274637")}function e(t){t=parseInt(t,10);var r=t-i;i+=Math.ceil(r/2),n(),i!==t&&setTimeout(function(){e(t)},125-5*Math.log(r))}function n(){o.innerHTML=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var r="//4vammoq5j7.execute-api.us-east-1.amazonaws.com/prod/messages",o=document.getElementById("message-count"),i=parseInt(o.innerHTML.replace(/,/g,""),10);window.getMessageCount=function(){var n=new XMLHttpRequest;n.addEventListener("load",function(){200===n.status?e(n.responseText):t()}),n.addEventListener("error",function(){t()}),n.open("GET",r),n.send()}}();var _slicedToArray=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&c["return"]&&c["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function t(t){var e=t.origin,n=t.data,r=window.config.visualizations.domain;e===r&&"dashboard_resize"===n.event_type&&i(n.dashboard_height)}function e(){var t=config.visualizations.constants.viewportWidths,e=window.innerWidth,n=Object.entries(t).filter(function(t){var n=_slicedToArray(t,2),r=(n[0],n[1]);return e<r}).reduce(function(t,e){return e[1]>t[1]?e:currentLarget},["desktop",e]);return n[0]}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(),n=window.config.visualizations.domain,r=window.config.visualizations.dashboards[t];return n+"/shared/"+r+"?embed=true"}function r(t){c&&t!==!0||(document.getElementById("viz").src=n(),c=!0)}function o(){r(!0),i()}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a(),e=document.getElementById("viz");e.style.height=t+15+"px"}function a(){var t=config.visualizations.constants.vizHeights,n=e();return t[n]}var c=!1;window.addEventListener("scroll",r),window.addEventListener("resize-complete",o),window.addEventListener("message",t)}(),function(){function t(){var t=new XMLHttpRequest;t.addEventListener("load",function(){200===t.status&&(s=JSON.parse(t.responseText))}),t.open("GET","data/quotes.json"),t.send()}function e(){u.attr("height",l),n(),i.style.display="none"}function n(t){d=i.offsetWidth,u.attr("width",d),t!==!0&&r()}function r(t){if(void 0===t){if(void 0===h)return;t=h}else h=t;u.selectAll("g").remove(),f=u.append("g").attr("transform","translate("+[d>>1,l>>1]+")");var e=0,n=1e6;for(var r in t)t[r].c>e&&(e=t[r].c),t[r].c<n&&(n=t[r].c);var i=d3.scale.linear().range([50,120]).domain([10,960])(d),a=d3.scale.linear().range([12,i]).domain([n,e]);d3.layout.cloud().size([d,l]).words(t).rotate(function(){return 0}).font("Impact").fontSize(function(t){return a(t.c)}).text(function(t){return t.w}).on("end",o).start()}function o(t,e){var n=e?Math.min(d/Math.abs(e[1].x-d/2),d/Math.abs(e[0].x-d/2),l/Math.abs(e[1].y-l/2),l/Math.abs(e[0].y-l/2))/2:1;f.selectAll("text").data(t).enter().append("text").attr("text-anchor","middle").style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(){return"rgba(0,0,0,"+(.5*Math.random()+.25)+")"}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.w}),f.attr("transform","translate("+[d>>1,l>>1]+")scale("+n+")")}var i=document.getElementById("wordcloud"),a=document.getElementById("wordcloud-quote"),c=500,u=d3.select(i).append("svg"),s=void 0,d=void 0,l=c,f=void 0,h=void 0;window.bootstrapWordCloud=function(){t(),e(),window.addEventListener("resize-complete",n)},document.getElementById("wordcloud-select").addEventListener("change",function(){var t=this.value;i.style.display="block",n(!0),d3.json("data/words/"+t+".json",function(e,n){return e?console.warn(e):(void 0!==s&&(a.innerHTML="<p>"+s[t]+"</p>"),void r(n))})})}(),function(){function t(){document.querySelectorAll(".hamburger")[0].addEventListener("click",function(){toggle(document.querySelectorAll(".hamburger-menu"))}),document.querySelectorAll(".hamburger-menu a").forEach(function(t){t.addEventListener("click",function(){hide(document.querySelectorAll(".hamburger-menu"))})})}function e(){void 0===NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)}function n(){document.querySelectorAll('a[href="#top"]').forEach(function(t){t.addEventListener("click",function(t){window.scrollTo(0,0),t.preventDefault()})})}e(),t(),getMessageCount(),renderFAQ(),bindFAQ(),bootstrapWordCloud(),n();var r=void 0,o=window.outerWidth;window.addEventListener("resize",function(t){clearTimeout(r),r=setTimeout(function(){if(window.outerWidth!==o){o=window.outerWidth;var e=new Event("resize-complete");e.originalEvent=t,window.dispatchEvent(e)}},500)})}();
//# sourceMappingURL=main.min.js.map
